{"version":3,"sources":["components/Modal/Modal.module.css","components/Wrapper/Wrapper.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/App.module.css","components/Searchbar/Searchbar.module.css","services/hitsAPI.js","components/Wrapper/Wrapper.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/App.js","index.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","searchQuery","currentPage","axios","get","then","response","data","hits","Wrapper","children","className","s","wrapper","Searchbar","state","query","handleChange","currentTarget","setState","value","handleSubmit","e","preventDefault","props","onSubmit","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","placeholder","onChange","Component","ImageGalleryItem","webformatURL","tags","largeImageURL","onClickImage","src","alt","ImageGalleryItemImage","onClick","ImageGallery","map","id","key","Button","onScroll","modalRoot","document","querySelector","Modal","handleKeyDown","code","console","log","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","createPortal","Overlay","App","isLoading","error","showModal","largeImage","onChangeQuery","fetchHits","options","hitsAPI","prevState","catch","finally","scrollGallery","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","activeImage","prevProps","shouldRenderLoadMoreBtn","length","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.66190f7c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2vQGq\",\"Modal\":\"Modal_Modal__2Nu66\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Wrapper_wrapper__3qteC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3eTLb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2SQzq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1j0Tx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2fnqj\",\"SearchForm\":\"Searchbar_SearchForm__2_Q8x\",\"SearchFormButton\":\"Searchbar_SearchFormButton__aVYTw\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2WJMR\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1Z99m\"};","import axios from 'axios';\r\n\r\nconst fetchHits = ({ searchQuery = \"\", currentPage = 1 }) => {\r\n   return (\r\n      axios.get(`https:pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=16457509-c82a76dcc46c9cf626ac69878&image_type=photo&orientation=horizontal&per_page=12`)\r\n         .then(response => response.data.hits)\r\n   )\r\n}\r\n\r\nexport default { fetchHits };\r\n\r\n","\r\nimport React from 'react';\r\nimport s from './Wrapper.module.css';\r\n\r\nconst Wrapper = ({ children }) => (\r\n   <div className={s.wrapper}>{children}</div>\r\n);\r\n\r\nexport default Wrapper;","import React, { Component } from 'react'\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n\r\n   state = {\r\n      query: ''\r\n   }\r\n\r\n   handleChange = ({ currentTarget }) => { this.setState({ query: currentTarget.value }) };\r\n\r\n   handleSubmit = (e) => {\r\n      const { query } = this.state;\r\n\r\n      e.preventDefault();\r\n\r\n      this.props.onSubmit(query);\r\n      this.setState({ query: \"\" });\r\n   }\r\n\r\n   render() {\r\n      const { query } = this.state;\r\n\r\n      return (\r\n         <header className={s.Searchbar}>\r\n            <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n               <button type=\"submit\" className={s.SearchFormButton} >\r\n                  <span className={s.SearchFormButtonLabel}>Search</span>\r\n               </button>\r\n\r\n               <input\r\n                  className={s.SearchFormInput}\r\n                  type=\"text\"\r\n                  placeholder=\"Search images and photos\"\r\n                  value={query}\r\n                  onChange={this.handleChange}\r\n               />\r\n            </form>\r\n         </header>)\r\n   }\r\n}\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, tags, largeImageURL, onClickImage }) => (\r\n   <li className={s.ImageGalleryItem}>\r\n      <img\r\n         src={webformatURL}\r\n         alt={tags}\r\n         className={s.ImageGalleryItemImage}\r\n         onClick={() => onClickImage(largeImageURL)}\r\n      />\r\n   </li>\r\n)\r\n\r\nImageGalleryItem.propTypes = {\r\n   webformatURL: PropTypes.string.isRequired,\r\n   tags: PropTypes.string.isRequired,\r\n   largeImageURL: PropTypes.string.isRequired,\r\n   onClickImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\n\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ hits, onClickImage }) => (\r\n   <ul className={s.ImageGallery}>\r\n      {\r\n         hits.map(({ id, ...props }) => (\r\n            <ImageGalleryItem key={id}\r\n               onClickImage={onClickImage}\r\n               {...props} />\r\n         ))\r\n      }\r\n   </ul >\r\n)\r\n\r\nImageGallery.propTypes = {\r\n   hits: PropTypes.arrayOf(\r\n      PropTypes.shape({\r\n         id: PropTypes.number.isRequired,\r\n      }),\r\n   ),\r\n   onClickImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onClick, onScroll }) => (\r\n   <button\r\n      type=\"button\"\r\n      onClick={onClick}\r\n      onScroll={onScroll}\r\n      className={s.Button}\r\n   >\r\n      Load more\r\n   </button >\r\n)\r\n\r\nButton.propTypes = {\r\n   onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n   componentDidMount() {\r\n      window.addEventListener('keydown', this.handleKeyDown);\r\n   }\r\n\r\n   componentWillUnmount() {\r\n      window.removeEventListener('keydown', this.handleKeyDown);\r\n   }\r\n\r\n   handleKeyDown = e => {\r\n      if (e.code === 'Escape') {\r\n         console.log('Нажали ESC, нужно закрыть модалку');\r\n         this.props.onClose();\r\n      }\r\n   };\r\n\r\n   handleBackdropClick = event => {\r\n      if (event.currentTarget === event.target) {\r\n         this.props.onClose();\r\n      }\r\n   };\r\n\r\n   render() {\r\n      return createPortal(\r\n         <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n            <div className={s.Modal}>{this.props.children}</div>\r\n         </div>,\r\n         modalRoot,\r\n      );\r\n   }\r\n}","import React, { Component } from 'react'\n\nimport hitsAPI from '../services/hitsAPI';\n\nimport Wrapper from './Wrapper/Wrapper';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Button from './Button/Button';\nimport Loader from 'react-loader-spinner'\nimport Modal from './Modal/Modal';\n\nexport class App extends Component {\n\n   state = {\n      hits: [],\n      currentPage: 1,\n      searchQuery: '',\n      isLoading: false,\n      error: null,\n      showModal: false,\n      largeImage: null,\n   }\n\n   componentDidUpdate(prevProps, prevState) {\n      const { searchQuery } = this.state;\n      if (searchQuery !== prevState.searchQuery) {\n         this.fetchHits();\n      }\n   }\n\n   onChangeQuery = (query) => {\n      this.setState({\n         searchQuery: query,\n         currentPage: 1,\n         hits: [],\n         error: null\n      });\n   }\n\n   fetchHits = () => {\n      const { currentPage, searchQuery } = this.state;\n      const options = { searchQuery, currentPage };\n\n      this.setState({ isLoading: true });\n\n      hitsAPI.fetchHits(options)\n         .then(hits => {\n            this.setState(prevState => ({\n               hits: [...prevState.hits, ...hits],\n               currentPage: prevState.currentPage + 1,\n            }))\n         })\n         .catch(error => this.setState({ error }))\n         .finally(() => { this.setState({ isLoading: false }); });\n   }\n\n   scrollGallery = () => {\n      window.scrollTo({\n         top: document.documentElement.scrollHeight,\n         behavior: 'smooth',\n      });\n   }\n\n   toggleModal = () => {\n      this.setState(({ showModal }) => ({\n         showModal: !showModal,\n      }));\n   };\n\n   activeImage = largeImageURL => {\n      this.setState({ largeImage: largeImageURL });\n      this.toggleModal();\n   };\n\n   render() {\n      const { hits, isLoading, error, showModal, largeImage } = this.state;\n      const shouldRenderLoadMoreBtn = hits.length > 0 && !isLoading;\n\n      return (\n         <Wrapper>\n            {error && <h2>{error}</h2>}\n\n            <Searchbar onSubmit={this.onChangeQuery}\n            />\n\n            <ImageGallery\n               hits={hits}\n               onClickImage={this.activeImage}\n            />\n\n            {isLoading && <Loader\n               type=\"Puff\"\n               color=\"#00BFFF\"\n               height={100}\n               width={100}\n               timeout={3000}\n            />}\n\n            {showModal && (\n               <Modal onClose={this.toggleModal}>\n                  <img src={largeImage} alt=\"#\" />\n               </Modal>\n            )}\n\n            {shouldRenderLoadMoreBtn &&\n               <Button\n                  onClick={this.fetchHits}\n                  onScroll={this.scrollGallery()}\n               />}\n         </Wrapper>\n      )\n   }\n}\n\nexport default App\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\n\nimport 'modern-normalize/modern-normalize.css';\nimport s from './components/App.module.css';\n\n\nReactDOM.render(\n   <React.StrictMode>\n      <App className={s.App} />\n   </React.StrictMode>,\n   document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__IJhUT\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1Shmx\"};"],"sourceRoot":""}