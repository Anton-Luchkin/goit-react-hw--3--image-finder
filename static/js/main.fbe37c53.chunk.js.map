{"version":3,"sources":["components/Modal/Modal.module.css","components/Wrapper/Wrapper.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/App.module.css","components/Searchbar/Searchbar.module.css","services/hitsAPI.js","components/Wrapper/Wrapper.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/App.js","index.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","searchQuery","currentPage","axios","get","then","response","data","hits","Wrapper","children","className","s","wrapper","Searchbar","state","query","handleChange","currentTarget","setState","value","handleSubmit","e","preventDefault","props","onSubmit","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","placeholder","onChange","Component","ImageGalleryItem","webformatURL","tags","largeImageURL","onClickImage","src","alt","ImageGalleryItemImage","onClick","ImageGallery","map","id","key","Button","onScroll","modalRoot","document","querySelector","Modal","handleKeyDown","code","console","log","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","createPortal","Overlay","App","isLoading","error","showModal","largeImage","onChangeQuery","fetchHits","options","hitsAPI","prevState","catch","finally","scrollGallery","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","activeImage","prevProps","shouldRenderLoadMoreBtn","length","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"0IACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,QAAU,2B,mBCA5BD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,IAAM,mB,sDCAxBD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,gICSjO,EARG,SAAC,GAA2C,IAAD,IAAxCC,mBAAwC,MAA1B,GAA0B,MAAtBC,mBAAsB,MAAR,EAAQ,EAC1D,OAAOC,IACHC,IADG,qCAE6BH,EAF7B,iBAEiDC,EAFjD,gGAIHG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKC,S,iBCFvBC,EAFC,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OAAkB,yBAAKC,UAAWC,IAAEC,SAAUH,I,gBCCzCI,E,4MACnBC,MAAQ,CACNC,MAAO,I,EAGTC,aAAe,YAAwB,IAArBC,EAAoB,EAApBA,cAChB,EAAKC,SAAS,CAAEH,MAAOE,EAAcE,S,EAGvCC,aAAe,SAAAC,GAAM,IACXN,EAAU,EAAKD,MAAfC,MAERM,EAAEC,iBAEF,EAAKC,MAAMC,SAAST,GACpB,EAAKG,SAAS,CAAEH,MAAO,M,uDAGf,IACAA,EAAUU,KAAKX,MAAfC,MAER,OACE,4BAAQL,UAAWC,IAAEE,WACnB,0BAAMH,UAAWC,IAAEe,WAAYF,SAAUC,KAAKL,cAC5C,4BAAQO,KAAK,SAASjB,UAAWC,IAAEiB,kBACjC,0BAAMlB,UAAWC,IAAEkB,uBAAnB,WAGF,2BACEnB,UAAWC,IAAEmB,gBACbH,KAAK,OACLI,YAAY,2BACZZ,MAAOJ,EACPiB,SAAUP,KAAKT,qB,GAjCYiB,a,wBCwBxBC,EAvBU,SAAC,GAAD,IACvBC,EADuB,EACvBA,aACAC,EAFuB,EAEvBA,KACAC,EAHuB,EAGvBA,cACAC,EAJuB,EAIvBA,aAJuB,OAMvB,wBAAI5B,UAAWC,IAAEuB,kBACf,yBACEK,IAAKJ,EACLK,IAAKJ,EACL1B,UAAWC,IAAE8B,sBACbC,QAAS,kBAAMJ,EAAaD,Q,iBCQnBM,EAjBM,SAAC,GAAD,IAAGpC,EAAH,EAAGA,KAAM+B,EAAT,EAASA,aAAT,OACnB,wBAAI5B,UAAWC,IAAEgC,cACdpC,EAAKqC,KAAI,gBAAGC,EAAH,EAAGA,GAAOtB,EAAV,6BACR,kBAAC,EAAD,eAAkBuB,IAAKD,EAAIP,aAAcA,GAAkBf,S,iBCUlDwB,EAfA,SAAC,GAAD,IAAGL,EAAH,EAAGA,QAASM,EAAZ,EAAYA,SAAZ,OACb,4BACErB,KAAK,SACLe,QAASA,EACTM,SAAUA,EACVtC,UAAWC,IAAEoC,QAJf,c,kCCFIE,EAAYC,SAASC,cAAc,eAEpBC,E,4MASnBC,cAAgB,SAAAhC,GACC,WAAXA,EAAEiC,OACJC,QAAQC,IAAI,kKACZ,EAAKjC,MAAMkC,Y,EAIfC,oBAAsB,SAAAC,GAChBA,EAAM1C,gBAAkB0C,EAAMC,QAChC,EAAKrC,MAAMkC,W,kEAhBbI,OAAOC,iBAAiB,UAAWrC,KAAK4B,iB,6CAIxCQ,OAAOE,oBAAoB,UAAWtC,KAAK4B,iB,+BAiB3C,OAAOW,uBACL,yBAAKtD,UAAWC,IAAEsD,QAASvB,QAASjB,KAAKiC,qBACvC,yBAAKhD,UAAWC,IAAEyC,OAAQ3B,KAAKF,MAAMd,WAEvCwC,O,GA3B6BhB,aCwGpBiC,EAnGf,4MACGpD,MAAQ,CACLP,KAAM,GACNN,YAAa,EACbD,YAAa,GACbmE,WAAW,EACXC,MAAO,KACPC,WAAW,EACXC,WAAY,MARlB,EAkBGC,cAAgB,SAAAxD,GACb,EAAKG,SAAS,CACXlB,YAAae,EACbd,YAAa,EACbM,KAAM,GACN6D,MAAO,QAvBhB,EA2BGI,UAAY,WAAO,IAAD,EACsB,EAAK1D,MAAlCb,EADO,EACPA,YACFwE,EAAU,CAAEzE,YAFH,EACMA,YACUC,eAE/B,EAAKiB,SAAS,CAAEiD,WAAW,IAE3BO,EACcD,GACVrE,MAAK,SAAAG,GACH,EAAKW,UAAS,SAAAyD,GAAS,MAAK,CACzBpE,KAAK,GAAD,mBAAMoE,EAAUpE,MAAhB,YAAyBA,IAC7BN,YAAa0E,EAAU1E,YAAc,SAG1C2E,OAAM,SAAAR,GAAK,OAAI,EAAKlD,SAAS,CAAEkD,aAC/BS,SAAQ,WACN,EAAK3D,SAAS,CAAEiD,WAAW,QA3CvC,EA+CGW,cAAgB,WACbjB,OAAOkB,SAAS,CACbC,IAAK9B,SAAS+B,gBAAgBC,aAC9BC,SAAU,YAlDnB,EAsDGC,YAAc,WACX,EAAKlE,UAAS,kBAAoB,CAC/BmD,WADW,EAAGA,eAvDvB,EA4DGgB,YAAc,SAAAhD,GACX,EAAKnB,SAAS,CAAEoD,WAAYjC,IAC5B,EAAK+C,eA9DX,iEAWsBE,EAAWX,GACHlD,KAAKX,MAArBd,cACY2E,EAAU3E,aAC3ByB,KAAK+C,cAdd,+BAiEa,IAAD,EAC6C/C,KAAKX,MAAhDP,EADF,EACEA,KAAM4D,EADR,EACQA,UAAWE,EADnB,EACmBA,UAAWC,EAD9B,EAC8BA,WAC9BiB,EAA0BhF,EAAKiF,OAAS,IAAMrB,EAEpD,OACG,kBAAC,EAAD,KACG,kBAAC,EAAD,CAAW3C,SAAUC,KAAK8C,gBAE1B,kBAAC,EAAD,CAAchE,KAAMA,EAAM+B,aAAcb,KAAK4D,cAE5ClB,GACE,kBAAC,IAAD,CACGxC,KAAK,OACL8D,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,MAIdvB,GACE,kBAAC,EAAD,CAAOZ,QAAShC,KAAK2D,aAClB,yBAAK7C,IAAK+B,EAAY9B,IAAI,OAI/B+C,GACE,kBAAC,EAAD,CAAQ7C,QAASjB,KAAK+C,UAAWxB,SAAUvB,KAAKqD,uBA5F/D,GAAyB7C,a,yBCHzB4D,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,CAAKrF,UAAWC,IAAEuD,OAEpBhB,SAAS8C,eAAe,U,kBCX1BlG,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,mD","file":"static/js/main.fbe37c53.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3HZrb\",\"Modal\":\"Modal_Modal__1mOzk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Wrapper_wrapper__2VKp-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__39Np5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__rOYeq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2AAtk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1InU1\",\"SearchForm\":\"Searchbar_SearchForm__IlMvs\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2qBqM\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__tkchJ\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3XlQK\"};","import axios from 'axios';\n\nconst fetchHits = ({ searchQuery = '', currentPage = 1 }) => {\n   return axios\n      .get(\n         `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=16457509-c82a76dcc46c9cf626ac69878&image_type=photo&orientation=horizontal&per_page=12`,\n      )\n      .then(response => response.data.hits);\n};\n\nexport default { fetchHits };\n","import React from 'react';\nimport s from './Wrapper.module.css';\n\nconst Wrapper = ({ children }) => <div className={s.wrapper}>{children}</div>;\n\nexport default Wrapper;\n","import React, { Component } from 'react';\n\nimport s from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = ({ currentTarget }) => {\n    this.setState({ query: currentTarget.value });\n  };\n\n  handleSubmit = e => {\n    const { query } = this.state;\n\n    e.preventDefault();\n\n    this.props.onSubmit(query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            placeholder=\"Search images and photos\"\n            value={query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({\n  webformatURL,\n  tags,\n  largeImageURL,\n  onClickImage,\n}) => (\n  <li className={s.ImageGalleryItem}>\n    <img\n      src={webformatURL}\n      alt={tags}\n      className={s.ImageGalleryItemImage}\n      onClick={() => onClickImage(largeImageURL)}\n    />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  onClickImage: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\n\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ hits, onClickImage }) => (\n  <ul className={s.ImageGallery}>\n    {hits.map(({ id, ...props }) => (\n      <ImageGalleryItem key={id} onClickImage={onClickImage} {...props} />\n    ))}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  hits: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ),\n  onClickImage: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './Button.module.css';\n\nconst Button = ({ onClick, onScroll }) => (\n  <button\n    type=\"button\"\n    onClick={onClick}\n    onScroll={onScroll}\n    className={s.Button}\n  >\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      console.log('Нажали ESC, нужно закрыть модалку');\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport hitsAPI from '../services/hitsAPI';\n\nimport Wrapper from './Wrapper/Wrapper';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Button from './Button/Button';\nimport Loader from 'react-loader-spinner';\nimport Modal from './Modal/Modal';\n\nexport class App extends Component {\n   state = {\n      hits: [],\n      currentPage: 1,\n      searchQuery: '',\n      isLoading: false,\n      error: null,\n      showModal: false,\n      largeImage: null,\n   };\n\n   componentDidUpdate(prevProps, prevState) {\n      const { searchQuery } = this.state;\n      if (searchQuery !== prevState.searchQuery) {\n         this.fetchHits();\n      }\n   }\n\n   onChangeQuery = query => {\n      this.setState({\n         searchQuery: query,\n         currentPage: 1,\n         hits: [],\n         error: null,\n      });\n   };\n\n   fetchHits = () => {\n      const { currentPage, searchQuery } = this.state;\n      const options = { searchQuery, currentPage };\n\n      this.setState({ isLoading: true });\n\n      hitsAPI\n         .fetchHits(options)\n         .then(hits => {\n            this.setState(prevState => ({\n               hits: [...prevState.hits, ...hits],\n               currentPage: prevState.currentPage + 1,\n            }));\n         })\n         .catch(error => this.setState({ error }))\n         .finally(() => {\n            this.setState({ isLoading: false });\n         });\n   };\n\n   scrollGallery = () => {\n      window.scrollTo({\n         top: document.documentElement.scrollHeight,\n         behavior: 'smooth',\n      });\n   };\n\n   toggleModal = () => {\n      this.setState(({ showModal }) => ({\n         showModal: !showModal,\n      }));\n   };\n\n   activeImage = largeImageURL => {\n      this.setState({ largeImage: largeImageURL });\n      this.toggleModal();\n   };\n\n   render() {\n      const { hits, isLoading, showModal, largeImage } = this.state;\n      const shouldRenderLoadMoreBtn = hits.length > 0 && !isLoading;\n\n      return (\n         <Wrapper>\n            <Searchbar onSubmit={this.onChangeQuery} />\n\n            <ImageGallery hits={hits} onClickImage={this.activeImage} />\n\n            {isLoading && (\n               <Loader\n                  type=\"Puff\"\n                  color=\"#00BFFF\"\n                  height={100}\n                  width={100}\n                  timeout={3000}\n               />\n            )}\n\n            {showModal && (\n               <Modal onClose={this.toggleModal}>\n                  <img src={largeImage} alt=\"#\" />\n               </Modal>\n            )}\n\n            {shouldRenderLoadMoreBtn && (\n               <Button onClick={this.fetchHits} onScroll={this.scrollGallery()} />\n            )}\n         </Wrapper>\n      );\n   }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\n\nimport 'modern-normalize/modern-normalize.css';\nimport s from './components/App.module.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App className={s.App} />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__15Qq5\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3vKul\"};"],"sourceRoot":""}